{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","service/image-api.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","query","handelChange","e","setState","currentTarget","value","toLowerCase","handelSubmit","preventDefault","trim","props","onSubmit","alert","this","className","styles","header","form","type","button","label","input","placeholder","onChange","Component","ImageGalleryItem","onShowModal","largeImageURL","onClick","hits","map","id","webformatURL","tags","item","src","alt","image","Loaders","Loader","color","height","width","timeout","Button","modalRoot","document","querySelector","Modal","hendelKeyDown","code","hendelBecdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","fetchImage","searchQuery","apiKay","currentPage","pageSize","axios","get","then","response","data","INITIAL_STATE","showModal","error","largeImage","imgTags","ImageGallery","status","fetchImages","fetchImageApi","prevState","catch","toggleModal","smoothTransition","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","title","App","handelFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3f2e4cb1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__1xxgq\",\"image\":\"ImageGalleryItem_image__rTr2b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__nUuTz\",\"Modal\":\"Modal_Modal__-kQop\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__V_VRG\",\"title\":\"ImageGallery_title__3sO9K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__5Uhev\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2pWiW\"};","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './SearchBar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handelChange = e => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handelSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.query.trim() === '') {\r\n      alert('Enter a query!');\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className={styles.header}>\r\n        <form className={styles.form} onSubmit={this.handelSubmit}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span className={styles.label}> Search</span>\r\n          </button>\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n            value={query}\r\n            onChange={this.handelChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nexport default SearchBar;\r\n","import { Component } from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    hits: PropTypes.array.isRequired,\r\n  };\r\n  onShowModal = largeImageURL => {\r\n    this.props.onClick(largeImageURL);\r\n  };\r\n\r\n  render() {\r\n    return this.props.hits.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n      <li className={styles.item} key={id}>\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className={styles.image}\r\n          onClick={() => this.onShowModal(largeImageURL)}\r\n        />\r\n      </li>\r\n    ));\r\n  }\r\n}\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport styles from './Loader.module.css';\r\n\r\nfunction Loaders() {\r\n  return (\r\n    <Loader\r\n      className={styles.Loader}\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000}\r\n    />\r\n  );\r\n}\r\nexport default Loaders;\r\n","import styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick, type }) => {\r\n  return (\r\n    <button className={styles.button} type={type} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.hendelKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.hendelKeyDown);\r\n  }\r\n  hendelKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n  hendelBecdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.hendelBecdropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\nconst fetchImage = ({ searchQuery, apiKay, currentPage, pageSize }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?key=${apiKay}&q=${searchQuery}&image_type=photo&orientation=horizontal&page=${currentPage}&per_page=${pageSize}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default fetchImage;\r\n","import { Component } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport Loader from '../Loader';\r\nimport Button from '../Button';\r\nimport Modal from '../Modal';\r\n\r\nimport fetchImageApi from '../../service/image-api';\r\nimport styles from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst INITIAL_STATE = {\r\n  currentPage: 1,\r\n  pageSize: 12,\r\n  apiKay: '19388230-75c4bcf9e22da5087bb0ddd0d',\r\n  hits: [],\r\n  showModal: false,\r\n  error: null,\r\n  largeImage: '',\r\n  imgTags: '',\r\n};\r\n\r\nexport default class ImageGallery extends Component {\r\n  static propTypes = {\r\n    searchQuery: PropTypes.string.isRequired,\r\n  };\r\n  state = {\r\n    status: 'idle',\r\n    ...INITIAL_STATE,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.searchQuery !== this.props.searchQuery) {\r\n      this.setState({ status: 'panding', ...INITIAL_STATE });\r\n      this.fetchImages();\r\n\r\n      // console.log('prevProps.searchQuery', prevProps.searchQuery);\r\n      // console.log('this.props.searchQuery', this.props.searchQuery);\r\n      // console.log('this.state', this.state);\r\n    }\r\n    if (\r\n      this.state.currentPage !== 2 &&\r\n      prevState.currentPage !== this.state.currentPage\r\n    ) {\r\n      this.smoothTransition();\r\n    }\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { currentPage, pageSize, apiKay } = this.state;\r\n    const { searchQuery } = this.props;\r\n\r\n    fetchImageApi({ searchQuery, apiKay, currentPage, pageSize })\r\n      .then(hits => {\r\n        this.setState(prevState => ({\r\n          hits: [...prevState.hits, ...hits],\r\n          currentPage: prevState.currentPage + 1,\r\n          status: 'resolved',\r\n        }));\r\n      })\r\n      .catch(error =>\r\n        this.setState({ error: 'Picture not found', status: 'rejected' }),\r\n      );\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n\r\n  onShowModal = largeImage => {\r\n    this.setState({ largeImage });\r\n\r\n    this.toggleModal();\r\n  };\r\n  smoothTransition = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { hits, status, error, showModal, largeImage, imgTags } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return (\r\n        <h1 className={styles.title}>\r\n          Enter a query by name to search, image or photo\r\n        </h1>\r\n      );\r\n    }\r\n    if (status === 'panding') {\r\n      return <Loader />;\r\n    }\r\n    if (status === 'rejected') {\r\n      return <h1>{error}</h1>;\r\n    }\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          <ul className={styles.ImageGallery}>\r\n            <ImageGalleryItem hits={hits} onClick={this.onShowModal} />\r\n          </ul>\r\n          {showModal && (\r\n            <Modal onClick={this.onShowModal}>\r\n              <img src={largeImage} alt={imgTags} />\r\n            </Modal>\r\n          )}\r\n          <Button onClick={this.fetchImages} type=\"button\" />\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n  };\n\n  handelFormSubmit = value => {\n    this.setState({ query: value });\n  };\n\n  render() {\n    return (\n      <div className=\"app\">\n        <SearchBar onSubmit={this.handelFormSubmit} />\n        <ImageGallery searchQuery={this.state.query} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"SearchBar_header__1O77Z\",\"form\":\"SearchBar_form__3d9cj\",\"button\":\"SearchBar_button__2hnd5\",\"label\":\"SearchBar_label__32Pwb\",\"input\":\"SearchBar_input__yVX5v\"};"],"sourceRoot":""}